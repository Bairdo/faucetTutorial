

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Routing Tutorial &mdash; Python  documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Python
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction to Faucet</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="recipe_book/index.html">Configuration Recipe Book</a></li>
<li class="toctree-l1"><a class="reference internal" href="vendors/index.html">Vendor-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_resources.html">External Resources</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="fuzzing.html">Fuzzing</a></li>
<li class="toctree-l1"><a class="reference internal" href="source/index.html">Source Code</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Routing Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/routing.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="routing-tutorial">
<h1>Routing Tutorial<a class="headerlink" href="#routing-tutorial" title="Permalink to this headline">¶</a></h1>
<p>This tutorial will cover routing with Faucet.</p>
<p>There are three types of routing we can use.
- Inter VLAN routing
- Static routing
- BGP via an external application (Quagga, Bird, EXABGP, …)</p>
<div class="section" id="prerequisites">
<h2>Prerequisites:<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Faucet <a class="reference external" href="https://faucet.readthedocs.io/en/latest/tutorials.html#package-installation">Steps 1 &amp; 2</a></li>
<li>OpenVSwitch <a class="reference external" href="https://faucet.readthedocs.io/en/latest/tutorials.html#connect-your-first-datapath">Steps 1 &amp; 2</a></li>
<li>Useful Bash Functions (<a class="reference external" href="_static/tutorial/create_ns">create_ns</a>, <a class="reference external" href="_static/tutorial/as_ns">as_ns</a>, <a class="reference external" href="_static/tutorial/cleanup">cleanup</a>)</li>
</ul>
</div>
<div class="section" id="routing-between-vlans">
<h2>Routing between VLANs<a class="headerlink" href="#routing-between-vlans" title="Permalink to this headline">¶</a></h2>
<p>Let’s start with a single switch connected to two hosts in two different vlans.</p>
<img alt="vlan routing diagram" src="_images/vlan-routing.svg" /><p>Run the cleanup script to remove old namespaces and switches:</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cleanup</span>
</pre></div>
</div>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_ns</span> <span class="n">host1</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.254</span><span class="o">/</span><span class="mi">24</span>
<span class="n">create_ns</span> <span class="n">host2</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.254</span><span class="o">/</span><span class="mi">24</span>
<span class="n">sudo</span> <span class="n">ovs</span><span class="o">-</span><span class="n">vsctl</span> <span class="n">add</span><span class="o">-</span><span class="n">br</span> <span class="n">br1</span> \
<span class="o">--</span> <span class="nb">set</span> <span class="n">bridge</span> <span class="n">br1</span> <span class="n">other</span><span class="o">-</span><span class="n">config</span><span class="p">:</span><span class="n">datapath</span><span class="o">-</span><span class="nb">id</span><span class="o">=</span><span class="mi">0000000000000001</span> \
<span class="o">--</span> <span class="nb">set</span> <span class="n">bridge</span> <span class="n">br1</span> <span class="n">other</span><span class="o">-</span><span class="n">config</span><span class="p">:</span><span class="n">disable</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">band</span><span class="o">=</span><span class="n">true</span> \
<span class="o">--</span> <span class="nb">set</span> <span class="n">bridge</span> <span class="n">br1</span> <span class="n">fail_mode</span><span class="o">=</span><span class="n">secure</span> \
<span class="o">--</span> <span class="n">add</span><span class="o">-</span><span class="n">port</span> <span class="n">br1</span> <span class="n">veth</span><span class="o">-</span><span class="n">host1</span> <span class="o">--</span> <span class="nb">set</span> <span class="n">interface</span> <span class="n">veth</span><span class="o">-</span><span class="n">host1</span> <span class="n">ofport_request</span><span class="o">=</span><span class="mi">2</span> \
<span class="o">--</span> <span class="n">add</span><span class="o">-</span><span class="n">port</span> <span class="n">br1</span> <span class="n">veth</span><span class="o">-</span><span class="n">host2</span> <span class="o">--</span> <span class="nb">set</span> <span class="n">interface</span> <span class="n">veth</span><span class="o">-</span><span class="n">host2</span> <span class="n">ofport_request</span><span class="o">=</span><span class="mi">3</span> \
<span class="o">--</span> <span class="nb">set</span><span class="o">-</span><span class="n">controller</span> <span class="n">br1</span> <span class="n">tcp</span><span class="p">:</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6653</span> <span class="n">tcp</span><span class="p">:</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6654</span>
</pre></div>
</div>
<p>To allow traffic between vlans we use a router, and assign each VLAN at least one IP address (gateway IP address).
Lets add the routers and vlans section like so.</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">/etc/faucet/faucet.yaml</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">vlans</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">vlan100</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_vips</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.0.0.254/24&quot;</span><span class="p p-Indicator">]</span>  <span class="c1"># Faucet&#39;s virtual IP address for vlan100</span>
    <span class="l l-Scalar l-Scalar-Plain">vlan200</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_vips</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.0.1.254/24&quot;</span><span class="p p-Indicator">]</span>  <span class="c1"># Faucet&#39;s virtual IP address for vlan200</span>

<span class="l l-Scalar l-Scalar-Plain">routers</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">router-1</span><span class="p p-Indicator">:</span>                           <span class="c1"># Router name</span>
        <span class="l l-Scalar l-Scalar-Plain">vlans</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">vlan100</span><span class="p p-Indicator">,</span> <span class="nv">vlan200</span><span class="p p-Indicator">]</span>       <span class="c1"># names of vlans to allow routing between.</span>

<span class="l l-Scalar l-Scalar-Plain">dps</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">sw1</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">dp_id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0x1</span>
        <span class="l l-Scalar l-Scalar-Plain">hardware</span><span class="p p-Indicator">:</span> <span class="s">&quot;Open</span><span class="nv"> </span><span class="s">vSwitch&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">interfaces</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">1</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;host1&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;host1</span><span class="nv"> </span><span class="s">network</span><span class="nv"> </span><span class="s">namespace&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan100</span>
            <span class="l l-Scalar l-Scalar-Plain">2</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;host2&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;host2</span><span class="nv"> </span><span class="s">network</span><span class="nv"> </span><span class="s">namespace&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">vlan200</span>
</pre></div>
</div>
</div>
<p>Send SIGHUP signal to reload the configuration file.</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pkill</span> <span class="o">-</span><span class="n">HUP</span> <span class="o">-</span><span class="n">f</span> <span class="s2">&quot;faucet\.faucet&quot;</span>
</pre></div>
</div>
<p>Add the default route to the ‘faucet_vips’ as above.</p>
<p>Then generate some traffic between our two hosts.</p>
<p>It should work and traffic should go through.</p>
</div>
<div class="section" id="static-routing">
<h2>Static Routing<a class="headerlink" href="#static-routing" title="Permalink to this headline">¶</a></h2>
<p>For this we will set-up a Faucet switch with three hosts.
One of these hosts will act like a gateway,</p>
<img alt="static routing network diagram" src="_images/static-routing.svg" /><p>Run the cleanup script to remove old namespaces and switches.</p>
<p>Create 3 hosts, in 2 different subnets:</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">create_ns</span> <span class="n">host1</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.1</span><span class="o">/</span><span class="mi">24</span>
<span class="n">create_ns</span> <span class="n">host2</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.2</span><span class="o">/</span><span class="mi">24</span>
<span class="n">create_ns</span> <span class="n">hostgw</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="o">/</span><span class="mi">24</span>
</pre></div>
</div>
<p>And add a default route for each host to it’s gateway router.</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">as_ns</span> <span class="n">host1</span> <span class="n">ip</span> <span class="n">route</span> <span class="n">add</span> <span class="n">default</span> <span class="n">via</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.254</span>
<span class="n">as_ns</span> <span class="n">host2</span> <span class="n">ip</span> <span class="n">route</span> <span class="n">add</span> <span class="n">default</span> <span class="n">via</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.254</span>
<span class="n">as_ns</span> <span class="n">hostgw</span> <span class="n">ip</span> <span class="n">route</span> <span class="n">add</span> <span class="n">default</span> <span class="n">via</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.254</span>
</pre></div>
</div>
<p>Create the bridge and add hosts 1, 2 and the gw to br1.</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">ovs</span><span class="o">-</span><span class="n">vsctl</span> <span class="n">add</span><span class="o">-</span><span class="n">br</span> <span class="n">br1</span> \
<span class="o">--</span> <span class="nb">set</span> <span class="n">bridge</span> <span class="n">br1</span> <span class="n">other</span><span class="o">-</span><span class="n">config</span><span class="p">:</span><span class="n">datapath</span><span class="o">-</span><span class="nb">id</span><span class="o">=</span><span class="mi">0000000000000001</span> \
<span class="o">--</span> <span class="nb">set</span> <span class="n">bridge</span> <span class="n">br1</span> <span class="n">other</span><span class="o">-</span><span class="n">config</span><span class="p">:</span><span class="n">disable</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">band</span><span class="o">=</span><span class="n">true</span> \
<span class="o">--</span> <span class="nb">set</span> <span class="n">bridge</span> <span class="n">br1</span> <span class="n">fail_mode</span><span class="o">=</span><span class="n">secure</span> \
<span class="o">--</span> <span class="n">add</span><span class="o">-</span><span class="n">port</span> <span class="n">br1</span> <span class="n">veth</span><span class="o">-</span><span class="n">host1</span> <span class="o">--</span> <span class="nb">set</span> <span class="n">interface</span> <span class="n">veth</span><span class="o">-</span><span class="n">host1</span> <span class="n">ofport_request</span><span class="o">=</span><span class="mi">1</span> \
<span class="o">--</span> <span class="n">add</span><span class="o">-</span><span class="n">port</span> <span class="n">br1</span> <span class="n">veth</span><span class="o">-</span><span class="n">host2</span> <span class="o">--</span> <span class="nb">set</span> <span class="n">interface</span> <span class="n">veth</span><span class="o">-</span><span class="n">host2</span> <span class="n">ofport_request</span><span class="o">=</span><span class="mi">2</span> \
<span class="o">--</span> <span class="n">add</span><span class="o">-</span><span class="n">port</span> <span class="n">br1</span> <span class="n">veth</span><span class="o">-</span><span class="n">hostgw</span> <span class="o">--</span> <span class="nb">set</span> <span class="n">interface</span> <span class="n">veth</span><span class="o">-</span><span class="n">hostgw</span> <span class="n">ofport_request</span><span class="o">=</span><span class="mi">3</span> \
<span class="o">--</span> <span class="nb">set</span><span class="o">-</span><span class="n">controller</span> <span class="n">br1</span> <span class="n">tcp</span><span class="p">:</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6653</span> <span class="n">tcp</span><span class="p">:</span><span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span><span class="p">:</span><span class="mi">6654</span>
</pre></div>
</div>
<p>For this Faucet configuration we will start from scratch.
First we need to define 2 VLANs.</p>
<ol class="arabic simple">
<li>Hosts.</li>
<li>Gateway.</li>
</ol>
<p>Here we have 3 new options:</p>
<ul class="simple">
<li>faucet_mac: The MAC address of Faucet’s routing interface on this VLAN.</li>
</ul>
<p>If we do not set faucet_mac for each VLAN, routed packets will be dropped unless ‘drop_spoofed_faucet_mac’ is set to false.
TODO explain above more.
- faucet_vips: The IP address for Faucet’s routing interface on this VLAN.
Multiple IP addresses (IPv4 &amp; IPv6) can be used.
- routes: Static routes for this VLAN.</p>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">/etc/faucet/faucet.yaml</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">vlans</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">br1-hosts</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;h1</span><span class="nv"> </span><span class="s">&amp;</span><span class="nv"> </span><span class="s">h2&#39;s</span><span class="nv"> </span><span class="s">vlan&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_mac</span><span class="p p-Indicator">:</span> <span class="s">&quot;00:00:00:00:00:11&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_vips</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.0.0.254/24&quot;</span><span class="p p-Indicator">]</span>

    <span class="l l-Scalar l-Scalar-Plain">br1-gw</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;vlan</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">gw</span><span class="nv"> </span><span class="s">port&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_mac</span><span class="p p-Indicator">:</span> <span class="s">&quot;00:00:00:00:00:22&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_vips</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.0.1.254/24&quot;</span><span class="p p-Indicator">]</span>
        <span class="l l-Scalar l-Scalar-Plain">routes</span><span class="p p-Indicator">:</span>
            <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">route</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">ip_dst</span><span class="p p-Indicator">:</span> <span class="s">&quot;0.0.0.0/24&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">ip_gw</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.1.3/24&#39;</span>
</pre></div>
</div>
</div>
<p>As our routing interface is in a different VLAN, we will want to route between the two VLANs on the switch (br1-hosts &amp; br1-peer).
So as with inter VLAN routing we will create a router for each switch.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">/etc/faucet/faucet.yaml</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">routers</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">router-br1</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vlans</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">br1-hosts</span><span class="p p-Indicator">,</span> <span class="nv">br1-gw</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<p>And the rest of the configuration looks like this:</p>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">/etc/faucet/faucet.yaml</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">dps</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">br1</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">dp_id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0x1</span>
        <span class="l l-Scalar l-Scalar-Plain">hardware</span><span class="p p-Indicator">:</span> <span class="s">&quot;Open</span><span class="nv"> </span><span class="s">vSwitch&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">interfaces</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">1</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;host1&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;host1</span><span class="nv"> </span><span class="s">network</span><span class="nv"> </span><span class="s">namespace&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">br1-hosts</span>
            <span class="l l-Scalar l-Scalar-Plain">2</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;host2&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;host2</span><span class="nv"> </span><span class="s">network</span><span class="nv"> </span><span class="s">namespace&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">br1-hosts</span>
            <span class="l l-Scalar l-Scalar-Plain">3</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;gw:&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;hostgw</span><span class="nv"> </span><span class="s">network</span><span class="nv"> </span><span class="s">namespace&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">br1-gw</span>
</pre></div>
</div>
</div>
<p>Start/reload Faucet.</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">faucet</span>
</pre></div>
</div>
<p>And we should now be able to ping (the first few packets may get lost as ?arp? Does it’s thing).</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">as_ns</span> <span class="n">host1</span> <span class="n">ping</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span>
<span class="n">PING</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span> <span class="p">(</span><span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="p">)</span> <span class="mi">56</span><span class="p">(</span><span class="mi">84</span><span class="p">)</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">data</span><span class="o">.</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">2</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">62</span> <span class="n">time</span><span class="o">=</span><span class="mf">0.625</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">3</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">62</span> <span class="n">time</span><span class="o">=</span><span class="mf">0.133</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">4</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">62</span> <span class="n">time</span><span class="o">=</span><span class="mf">0.064</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">5</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">62</span> <span class="n">time</span><span class="o">=</span><span class="mf">0.090</span> <span class="n">ms</span>
</pre></div>
</div>
</div>
<div class="section" id="bgp-routing">
<h2>BGP Routing<a class="headerlink" href="#bgp-routing" title="Permalink to this headline">¶</a></h2>
<p>For this section we are going to change our static routes from above into BGP routes.</p>
<p>BGP (and other routing) is provided by a NFV service, here we will use [BIRD](<a class="reference external" href="http://bird.network.cz/">http://bird.network.cz/</a>).
Other applications such as ExaBGP &amp; Quagga could be used.
Faucet imports all routes provided by this NVF service.
This means we can use our service for other routing protocols (OSPF, RIP, etc) and apply filtering using the service’s policy language.
See [routing-2](routing-2.rst) for more advanced BGP route filtering.</p>
<p>If you are NOT using the workshop VM you will need to install BIRD.</p>
<p>To install BIRD:</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">bird</span>
</pre></div>
</div>
<p>Our data plane will end up looking like this:</p>
<img alt="BGP network diagram" src="_images/bgp-dataplane.svg" /><p>Note 1:
When using BGP and Faucet, if changing Faucet’s routing configuration (routers, static routes, or a VLAN’s BGP configuration) the Faucet application must be restarted to reload the configuration correctly (not sighup reloaded).</p>
<p>Remove the static routes added above:</p>
<div class="literal-block-wrapper docutils container" id="id8">
<div class="code-block-caption"><span class="caption-text">/etc/faucet/faucet.yaml</span><a class="headerlink" href="#id8" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">vlans</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">br1-hosts</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;h1</span><span class="nv"> </span><span class="s">&amp;</span><span class="nv"> </span><span class="s">h2&#39;s</span><span class="nv"> </span><span class="s">vlan&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_mac</span><span class="p p-Indicator">:</span> <span class="s">&quot;00:00:00:00:00:11&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_vips</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.0.0.254/24&quot;</span><span class="p p-Indicator">]</span>

    <span class="l l-Scalar l-Scalar-Plain">br1-gw</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;vlan</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">peering</span><span class="nv"> </span><span class="s">port&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_mac</span><span class="p p-Indicator">:</span> <span class="s">&quot;00:00:00:00:00:22&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_vips</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.0.1.254/24&quot;</span><span class="p p-Indicator">]</span>

<span class="l l-Scalar l-Scalar-Plain">routers</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">router-br1</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vlans</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">br1-hosts</span><span class="p p-Indicator">,</span> <span class="nv">br1-gw</span><span class="p p-Indicator">]</span>

<span class="l l-Scalar l-Scalar-Plain">dps</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">br1</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">dp_id</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">0x1</span>
        <span class="l l-Scalar l-Scalar-Plain">hardware</span><span class="p p-Indicator">:</span> <span class="s">&quot;Open</span><span class="nv"> </span><span class="s">vSwitch&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">interfaces</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">1</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;host1&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;host1</span><span class="nv"> </span><span class="s">network</span><span class="nv"> </span><span class="s">namespace&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">br1-hosts</span>

            <span class="l l-Scalar l-Scalar-Plain">2</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;host2&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;host2</span><span class="nv"> </span><span class="s">network</span><span class="nv"> </span><span class="s">namespace&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">br1-hosts</span>
            <span class="l l-Scalar l-Scalar-Plain">3</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;gw&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;hostgw</span><span class="nv"> </span><span class="s">network</span><span class="nv"> </span><span class="s">namespace&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">br1-gw</span>
</pre></div>
</div>
</div>
<p>Reload Faucet</p>
<p>And check that host1 can ping host2 but not the gw.</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">as_ns</span> <span class="n">host1</span> <span class="n">ping</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">0.2</span>
<span class="n">as_ns</span> <span class="n">host1</span> <span class="n">ping</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span>
</pre></div>
</div>
<p>Next we will add Faucet to our switch’s data plane so that it can communicate with the BGP speaking hostgw.</p>
<img alt="BGP Routing Namespace Diagram" src="_images/bgp-routing-ns.svg" /><div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ip</span> <span class="n">link</span> <span class="n">add</span> <span class="n">veth</span><span class="o">-</span><span class="n">faucet0</span> <span class="nb">type</span> <span class="n">veth</span> <span class="n">peer</span> <span class="n">name</span> <span class="n">veth</span><span class="o">-</span><span class="n">faucet</span><span class="o">-</span><span class="n">dp</span>
<span class="n">ovs</span><span class="o">-</span><span class="n">vsctl</span> <span class="n">add</span><span class="o">-</span><span class="n">port</span> <span class="n">br1</span> <span class="n">veth</span><span class="o">-</span><span class="n">faucet</span><span class="o">-</span><span class="n">dp</span> <span class="o">--</span> <span class="nb">set</span> <span class="n">interface</span> <span class="n">veth</span><span class="o">-</span><span class="n">faucet</span><span class="o">-</span><span class="n">dp</span> <span class="n">ofport_request</span><span class="o">=</span><span class="mi">4</span>
<span class="n">ip</span> <span class="n">addr</span> <span class="n">add</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.2</span><span class="o">/</span><span class="mi">24</span> <span class="n">dev</span> <span class="n">veth</span><span class="o">-</span><span class="n">faucet0</span>
</pre></div>
</div>
<p>To configure BIRD</p>
<div class="literal-block-wrapper docutils container" id="id9">
<div class="code-block-caption"><span class="caption-text">/etc/bird.conf</span><a class="headerlink" href="#id9" title="Permalink to this code">¶</a></div>
<div class="highlight-cfg notranslate"><div class="highlight"><pre><span></span><span class="na">protocol kernel {</span>
    <span class="na">scan time 60;</span>
    <span class="na">import none;</span>
<span class="na">}</span>

<span class="na">protocol device {</span>
    <span class="na">scan time 60;</span>
<span class="na">}</span>

<span class="c1"># Local</span>
<span class="c1"># TODO is this right?</span>
<span class="na">protocol static {</span>
    <span class="na">route 10.0.0.0/24 via 10.0.1.254;</span>
<span class="na">}</span>

<span class="c1"># Faucet bgp peer config.</span>
<span class="c1"># Will import all routes available, including the static ones above.</span>
<span class="na">protocol bgp faucet {</span>
    <span class="na">local as 64513;</span>
    <span class="na">neighbor 10.0.1.4 port 9179 as 64512;</span>
    <span class="na">export all;</span>
    <span class="na">import all;</span>
<span class="na">}</span>
</pre></div>
</div>
</div>
<p>Start BIRD</p>
<p>We’ll configure Faucet by adding the BGP configuration to the br1-gw VLAN.</p>
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">/etc/faucet/faucet.yaml</span><a class="headerlink" href="#id10" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">vlans</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">br1-hosts</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">100</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;h1</span><span class="nv"> </span><span class="s">&amp;</span><span class="nv"> </span><span class="s">h2&#39;s</span><span class="nv"> </span><span class="s">vlan&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_mac</span><span class="p p-Indicator">:</span> <span class="s">&quot;00:00:00:00:00:11&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_vips</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.0.0.254/24&quot;</span><span class="p p-Indicator">]</span>

    <span class="l l-Scalar l-Scalar-Plain">br1-gw</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vid</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">200</span>
        <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;vlan</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">peering</span><span class="nv"> </span><span class="s">port&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_mac</span><span class="p p-Indicator">:</span> <span class="s">&quot;00:00:00:00:00:22&quot;</span>
        <span class="l l-Scalar l-Scalar-Plain">faucet_vips</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&quot;10.0.1.254/24&quot;</span><span class="p p-Indicator">]</span>
        <span class="l l-Scalar l-Scalar-Plain">bgp_port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">9179</span>                          <span class="c1"># BGP port for Faucet to listen on.</span>
        <span class="l l-Scalar l-Scalar-Plain">bgp_as</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">64512</span>                           <span class="c1"># Faucet&#39;s AS number</span>
        <span class="l l-Scalar l-Scalar-Plain">bgp_routerid</span><span class="p p-Indicator">:</span> <span class="s">&#39;10.0.1.2&#39;</span>                <span class="c1"># Faucet&#39;s Unique ID.</span>
        <span class="l l-Scalar l-Scalar-Plain">bgp_neighbor_addresses</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="s">&#39;10.0.1.3&#39;</span><span class="p p-Indicator">]</span>    <span class="c1"># Neighbouring IP addresses (IPv4/IPv6)</span>
        <span class="l l-Scalar l-Scalar-Plain">bgp_connect_mode</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">active</span>                <span class="c1">#</span>
        <span class="l l-Scalar l-Scalar-Plain">bgp_neighbor_as</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">64513</span>                  <span class="c1"># Neighbour&#39;s AS number</span>

<span class="l l-Scalar l-Scalar-Plain">routers</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">br1-router</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">vlans</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">[</span><span class="nv">br1-hosts</span><span class="p p-Indicator">,</span> <span class="nv">br1-gw</span><span class="p p-Indicator">]</span>
</pre></div>
</div>
</div>
<p>And finally add the port configuration for the Faucet data plane interface (veth-faucet0).</p>
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">/etc/faucet/facuet.yaml</span><a class="headerlink" href="#id11" title="Permalink to this code">¶</a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">dps</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">br1</span><span class="p p-Indicator">:</span>
        <span class="l l-Scalar l-Scalar-Plain">...</span>
        <span class="l l-Scalar l-Scalar-Plain">interfaces</span><span class="p p-Indicator">:</span>
            <span class="l l-Scalar l-Scalar-Plain">...</span>
            <span class="l l-Scalar l-Scalar-Plain">4</span><span class="p p-Indicator">:</span>
                <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="s">&quot;faucet-dataplane&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">description</span><span class="p p-Indicator">:</span> <span class="s">&quot;faucet&#39;s</span><span class="nv"> </span><span class="s">dataplane</span><span class="nv"> </span><span class="s">connection</span><span class="nv"> </span><span class="s">for</span><span class="nv"> </span><span class="s">bgp&quot;</span>
                <span class="l l-Scalar l-Scalar-Plain">native_vlan</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">br1-gw</span>
</pre></div>
</div>
</div>
<p>Now restart Faucet.</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">restart</span> <span class="n">faucet</span>
</pre></div>
</div>
<p>and our logs should show us ‘BGP peer router <a href="#id2"><span class="problematic" id="id3">**</span></a>* up’.</p>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">/var/log/faucet/faucet.log</span><a class="headerlink" href="#id12" title="Permalink to this code">¶</a></div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">...</span>
<span class="go">May 04 19:17:55 faucet INFO     BGP peer router ID 10.0.1.3 AS 64513 up</span>
<span class="go">May 04 19:17:55 faucet ERROR    BGP nexthop 10.0.1.254 for prefix 10.0.0.0/24 cannot be us</span>
<span class="go">May 04 19:17:55 faucet INFO     BGP add 192.168.1.0/24 nexthop 10.0.1.3</span>
</pre></div>
</div>
</div>
<p>Now we should be able to ping from host1 to hostgw.</p>
<div class="code console highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">as_ns</span> <span class="n">host1</span> <span class="n">ping</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span>
<span class="n">PING</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span> <span class="p">(</span><span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="p">)</span> <span class="mi">56</span><span class="p">(</span><span class="mi">84</span><span class="p">)</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">data</span><span class="o">.</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">3</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">63</span> <span class="n">time</span><span class="o">=</span><span class="mf">0.404</span> <span class="n">ms</span>
<span class="mi">64</span> <span class="nb">bytes</span> <span class="kn">from</span> <span class="mf">10.0</span><span class="o">.</span><span class="mf">1.3</span><span class="p">:</span> <span class="n">icmp_seq</span><span class="o">=</span><span class="mi">4</span> <span class="n">ttl</span><span class="o">=</span><span class="mi">63</span> <span class="n">time</span><span class="o">=</span><span class="mf">0.128</span> <span class="n">ms</span>
</pre></div>
</div>
<p>For more advanced routing including BGP route policy filtering see <a class="reference external" href="routing-2.html">routing 2 tutorial</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Faucet Developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>